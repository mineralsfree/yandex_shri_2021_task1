<html lang="en"><head><meta charset="UTF-8"><title>Task 1 SHRI</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/><script defer="defer" src="stories.js"></script></head><body><script src="stories.js"></script><script>const body = document.querySelector('body');
  body.innerHTML = window.renderTemplate('vote',   {
      "title": "Ð¡Ð°Ð¼Ñ‹Ð¹ ðŸ”Ž Ð²Ð½Ð¸Ð¼Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº",
      "subtitle": "Ð¡Ð¿Ñ€Ð¸Ð½Ñ‚ Ð¢Ð¾Ð¿Ð¾Ð»Ð¸Ð½Ñ‹Ð¹ Ð¿ÑƒÑ…",
      "emoji": "ðŸ”Ž",
      "users": [{"id": 1, "avatar": "1.jpg", "name": "Ð•Ð²Ð³ÐµÐ½Ð¸Ð¹ Ð”ÐµÐ¼ÐµÐ½Ñ‚ÑŒÐµÐ²", "valueText": "1007"}, {
        "id": 9,
        "avatar": "9.jpg",
        "name": "Ð¡ÐµÑ€Ð³ÐµÐ¹ Ð‘ÐµÑ€ÐµÐ¶Ð½Ð¾Ð¹",
        "valueText": "993"
      }, {"id": 10, "avatar": "10.jpg", "name": "Ð¯Ð½Ð° Ð‘ÐµÑ€Ð½Ð¸ÐºÐ¾Ð²Ð°", "valueText": "946"}, {
        "id": 7,
        "avatar": "7.jpg",
        "name": "Ð”Ð¼Ð¸Ñ‚Ñ€Ð¸Ð¹ ÐÐ½Ð´Ñ€Ð¸ÑÐ½Ð¾Ð²",
        "valueText": "906"
      }, {"id": 12, "avatar": "12.jpg", "name": "ÐÐ»ÐµÐºÑÐµÐ¹ Ð¯Ñ€Ð¾ÑˆÐµÐ²Ð¸Ñ‡", "valueText": "889"}, {
        "id": 2,
        "avatar": "2.jpg",
        "name": "ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€ Ð¨Ð»ÐµÐ¹ÐºÐ¾",
        "valueText": "883"
      }, {"id": 5, "avatar": "5.jpg", "name": "ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€ ÐÐ¸ÐºÐ¾Ð»Ð°Ð¸Ñ‡ÐµÐ²", "valueText": "851"}, {
        "id": 11,
        "avatar": "11.jpg",
        "name": "Ð®Ñ€Ð¸Ð¹ Ð¤Ñ€Ð¾Ð»Ð¾Ð²",
        "valueText": "847"
      }, {"id": 8, "avatar": "8.jpg", "name": "ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€ Ð˜Ð²Ð°Ð½ÐºÐ¾Ð²", "valueText": "841"}, {
        "id": 3,
        "avatar": "3.jpg",
        "name": "Ð”Ð°Ñ€ÑŒÑ ÐšÐ¾Ð²Ð°Ð»ÐµÐ²Ð°",
        "valueText": "839"
      }, {"id": 4, "avatar": "4.jpg", "name": "Ð’Ð°Ð´Ð¸Ð¼ ÐŸÐ°Ñ†ÐµÐ²", "valueText": "828"}, {
        "id": 6,
        "avatar": "6.jpg",
        "name": "ÐÐ½Ð´Ñ€ÐµÐ¹ ÐœÐ¾ÐºÑ€Ð¾ÑƒÑÐ¾Ð²",
        "valueText": "792"
      }]
    }
  );

  window.switchTheme = () => {
    body.className = (body.className === 'theme_light') ? 'theme_dark' : 'theme_light';
  }
  function onDocumentClick(e) {
    if (e.target instanceof HTMLElement) {
      let target = e.target;
      console.log(target);

      while (target.parentElement && !target.dataset.action && target !== document.body) {
        target = target.parentElement;
        console.log(target);
      }
      console.log(target);
      console.log(e)
      const {action, params} = target.dataset;
    }
  }
  document.body.addEventListener('click', onDocumentClick, true);</script></body></html>